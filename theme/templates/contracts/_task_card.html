<div class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow">
    <div class="flex justify-between items-start">
        <p class="font-semibold text-gray-800">{{ task.title }}</p>
        <span class="px-2 py-1 text-xs font-semibold leading-tight rounded-full
            {% if task.priority == 'HIGH' %} bg-red-100 text-red-700 {% endif %}
            {% if task.priority == 'MEDIUM' %} bg-yellow-100 text-yellow-700 {% endif %}
            {% if task.priority == 'LOW' %} bg-green-100 text-green-700 {% endif %}
        ">{{ task.get_priority_display }}</span>
    </div>
    <p class="text-sm text-gray-600 mt-2">{{ task.subject|truncatewords:15 }}</p>
    <div class="mt-4 flex items-center justify-between text-sm text-gray-500">
        <span>Due: {{ task.due_date|default:"N/A" }}</span>
        <a href="{% url 'contracts:legal_task_update' task.pk %}" class="font-medium text-blue-600 hover:underline">Edit</a>
    </div>
</div>
